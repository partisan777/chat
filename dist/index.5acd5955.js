function e(e="div",t=[],n={id:""},a=""){let r=document.createElement(e);r.classList.add(t.join(""));for(let e in n)r.setAttribute(e,n[e]);return r}function t(e){return e.map((e=>`<button ${e.buttonAttrs.join(" ")}>\n            ${e.labelVisible}\n          </button>`)).join("")}function n(e){return e.map((e=>`<label for="${void 0!==e.label?e.label:""}">${void 0!==e.labelVisible?e.labelVisible:""}</label>\n            <input ${e.inputAttrs.join(" ")}>\n            <div class="${e.divErrorclassName}" id="${e.divErrorId}"></div>`)).join("")}const a=[{label:"email",labelVisible:"Почта",inputAttrs:['type="text"','name="email"','id="email"','placeholder="Введите адрес электронной почты"','autocomplete="on"'],divErrorclassName:"reg-error",divErrorId:"reg-error-email"},{label:"login",labelVisible:"Логин",inputAttrs:['type="text"','name="login"','id="login"','placeholder="Введите логин"','autocomplete="on"'],ivErrorclassName:"reg-error",divErrorId:"reg-error-login"},{label:"first_name",labelVisible:"Имя",inputAttrs:['type="text"','name="first_name"','id="first_name"','placeholder="Введите имя"','autocomplete="on"'],ivErrorclassName:"reg-error",divErrorId:"reg-error-name"},{label:"second_name",labelVisible:"Фамилия",inputAttrs:['type="text"','name="second_name"','id="second_name"','placeholder="Введите фамилию"','autocomplete="on"'],ivErrorclassName:"reg-error",divErrorId:"reg-error-lastname"},{label:"display_name",labelVisible:"Отображаемое имя",inputAttrs:['type="text"','name="display_name"','id="display_name"','placeholder="Отображаемое имя"','autocomplete="on"'],ivErrorclassName:"reg-error",divErrorId:"reg-error-displayname"},{label:"phone",labelVisible:"Телефон",inputAttrs:['type="tel"','name="phone"','id="phone"','placeholder="Введите номер телефона"','autocomplete="on"'],ivErrorclassName:"reg-error",divErrorId:"reg-error-phone"},{label:"password",labelVisible:"Пароль",inputAttrs:['type="password"','name="password"','id="password"','placeholder="Введите пароль"','autocomplete="on"'],ivErrorclassName:"reg-error",divErrorId:"reg-error-password"},{label:"password-confirm",labelVisible:"Повторите пароль",inputAttrs:['type="password"','name="password-confirm"','id="password-confirm"','placeholder="Введите повтор пароля"','autocomplete="on"'],ivErrorclassName:"reg-error",divErrorId:"reg-error-password-confirm"}],r=[{labelVisible:"Зарегистрироваться",buttonAttrs:['class="button-button";','type="button"','id="registration-button"']},{labelVisible:"Вход",buttonAttrs:['class="link-button";','type="button"','id="login-button"']}];function i(){let i=e("div",["registration_form"],{id:"reg-form"});return i.innerHTML=`\n        <form action="" class="reg-form">\n          <div class="form-input" id="reg-form-child">\n            <h2>Регистрация</h2>\n            ${n(a)}\n            ${t(r)}\n          </div>\n        </form>\n    `,i}const o=[{label:"email",labelVisible:"Почта",inputAttrs:['type="text"','name="email"','id="email"','placeholder="Введите адрес электронной почты"','autocomplete="on"'],divErrorclassName:"reg-error",divErrorId:"reg-error-email"},{label:"login",labelVisible:"Логин",inputAttrs:['type="text"','name="login"','id="login"','placeholder="Введите логин"','autocomplete="on"'],ivErrorclassName:"reg-error",divErrorId:"reg-error-login"}],l=[{labelVisible:"Вход",buttonAttrs:['class="button-button"','type="button"','id="login-button"']},{labelVisible:"Нет аккаунта?",buttonAttrs:['class="link-button"','type="button"','id="registration-button"']}];function d(){let a=e("div",["registration_form"],{id:"login-form"});return a.innerHTML=`\n      <form action="" class="form-login-main" id="form-login-main">\n        <div class="form-input">\n          <h2>Вход</h2>\n          ${n(o)}\n          ${t(l)}\n        </div>\n      </form>\n    `,a}function s(){let t=e("div",["chat-window"],{id:"chat-window"});return t.innerHTML='\n        <div class="chat-sidebar" id="chat-sidebar">\n            <div class="chat-sidebar-header" id="chat-sidebar-header">\n                <button class="link-button" type="button" id="button-profile">\n                    Профиль\n                </button>\n                <div class="triangle"></div>\n            </div>\n            <div class="search" id="search">\n                <input type="search"></input>\n                <button class="button-button" type="button" id="profile-search-button">\n                    Поиск\n                </button>\n            </div>\n        </div>\n        <div class="dialog-window" id ="dialog-window">\n            <div class="dialog-header" id="dialog-header">\n                <div class="chat-header-descr" id="chat-header-descr">\n                    <p>Название чата</p>\n                </div>\n                <div class="chat-menu" id="chat-menu">\n                        <div class="mini-circle"></div>\n                        <div class="mini-circle"></div>\n                        <div class="mini-circle"></div>\n                </div>      \n            </div>\n            <div class="dialog" id="dialog">\n                Диалог\n                <ul> \n                    <li><a href="./error.html">Ссылка на страницу с ошибками</a></li>\n                    <li><a href="./notfound.html">Ссылка на несуществующую страницу</a></li>\n                </ul>\n            </div>\n            <div class="dialog-footer" id="dialog-footer">\n                <div class="chat-input-area" id="chat-input-area">\n                    <button class="circle" id="add-button">\n                        +\n                    </button>\n                    <input type="text" placeholder="Введите текст сообщения" class="chat-text-input" id="chat-text-input"></input>\n                    <button class="button-button" id="send-button">\n                        Отправить\n                    </button>\n                </div>\n            </div>\n        </div>\n    ',t}const c=[{id:111,title:"my-chat111",avatar:"/111/avatar1.jpg",unread_count:15,last_message:{user:{first_name:"Petya",second_name:"Pupkin",avatar:"/path/to/avatar.jpg",email:"my111@email.com",login:"userLogin111",phone:"8(911)-222-31-11"},time:"2020-01-02T14:22:22.000Z",content:"this is message content111"}},{id:222,title:"my-chat222",avatar:"/222/avatar1.jpg",unread_count:1,last_message:{user:{first_name:"Lesha",second_name:"Fedorov",avatar:"/path/to/avatar.jpg",email:"my222@email.com",login:"userLogin111",phone:"8(911)-222-32-22"},time:"2020-01-02T14:18:22.000Z",content:"this is message content222"}},{id:333,title:"my-chat333",avatar:"/333/avatar1.jpg",unread_count:5,last_message:{user:{first_name:"Sasha",second_name:"Pupkin",avatar:"/path/to/avatar.jpg",email:"my333@email.com",login:"userLogin333",phone:"8(911)-222-33-33"},time:"2020-01-02T11:22:22.000Z",content:"this is message content333"}},{id:444,title:"my-chat444",avatar:"/444/avatar1.jpg",unread_count:0,last_message:{user:{first_name:"Vasya",second_name:"Petrov",avatar:"/path/to/avatar.jpg",email:"my444@email.com",login:"userLogin444",phone:"8(911)-222-34-44"},time:"2020-01-02T14:22:22.000Z",content:"this is message content444"}}];function m(){c.sort(((e,t)=>-1*(new Date(e.last_message.time)-new Date(t.last_message.time))));let t=e("div",["manage-chat-user"],{id:"chat-sidebar-items"});return t.innerHTML=c.map((e=>`\n            <div class="chat-item" id="chat-item-${e.id}" >\n                <div class="chat-avatar" id="chat-avatar-${e.id}">\n                    <img src="#" alt="Avatar" />\n                </div>\n                <div class="chat-name" id="chat-name-${e.id}">${e.title}</div>\n                <div class="chat-last-message-time" id="chat-last-message-time-${e.id}">${e.last_message.time.slice(11,16)}</div>\n            \n                <div class="chat-last-message" id="chat-last-message-${e.id}">${e.last_message.content}</div>\n                ${0!==e.unread_count?`<div class="circle chat-unread-message-count" id="chat-unread-message-count-${e.id}">${e.unread_count}</div>`:""}\n            </div>  \n            `)).join(""),t}const u=[{label:"pr-form-email",labelVisible:"Почта",inputAttrs:['type="text"','id="pr-form-email"','name="email"',"value=`${profile.email}`"],divErrorclassName:"reg-error",divErrorId:"pr-form-email-error"},{label:"login",labelVisible:"Логин",inputAttrs:['type="text"','id="pr-form-login"','name="login"','value="${profile.login}"'],ivErrorclassName:"reg-error",divErrorId:"pr-form-login-error"},{label:"pr-form-first-name",labelVisible:"Имя",inputAttrs:['type="text"','id="pr-form-first-name"','name="first_name"',"value=${profile.first_name}"],ivErrorclassName:"reg-error",divErrorId:"pr-form-first_name-error"},{label:"pr-form-second_name",labelVisible:"Фамилия",inputAttrs:['type="text"','id="pr-form-second_name"','name="second_name"','value="${profile.second_name}"'],ivErrorclassName:"reg-error",divErrorId:"pr-form-second_name-error"},{label:"pr-form-display_name",labelVisible:"Имя в чате",inputAttrs:['type="text"','id="pr-form-display_name"','name="display_name"','value="${profile.display_name}"'],ivErrorclassName:"reg-error",divErrorId:"pr-form-display_name-error"},{label:"pr-form-phone",labelVisible:"Телефон",inputAttrs:['type="text"','id="pr-form-phone"','name="phone"','value="${profile.phone}"'],ivErrorclassName:"reg-error",divErrorId:"pr-form-phone-error"}],p=[{labelVisible:"Сохранить данные",buttonAttrs:['class="link-button"','id="profile-change-data"','type="button"']},{labelVisible:"Изменить пароль",buttonAttrs:['class="link-button"','id="profile-change-password"','type="button"']},{labelVisible:"Выйти",buttonAttrs:['class="button-button"','id="profile-logout"','type="button"']}],b=()=>{let a=e("div",["profile-main"],{id:"profile-main"});return a.innerHTML=`\n            <form class="profile-form" id="profile-form"> \n                <div class="profile-sidebar" id="profile-sidebar">\n                    <button class="profile-exit" id="profile-exit">\n                        Назад\n                    </button>\n                </div>\n                <div class="profile-subform" id="profile-subform">\n                  \n                    <div class="form-input">\n                        <h2>Данные пользователя</h2>\n                        <div class="profile-avatar" id="profile-avatar">\n                            <img src="#" alt="Avatar" />\n                        </div>  \n                        ${n(u)}\n                        ${t(p)}\n                    </div>\n                </div>\n            </form>\n    `,a};function g(){let e=document.createElement("div");return e.classList.add("modal"),e.setAttribute("id","myModal"),e.innerHTML='<div class="modal-content" id="modal-content">\n            \n        </div>',e}const v=[{label:"password",labelVisible:"Текущий пароль",inputAttrs:['type="password"','name="oldPassword"','id="password"','autocomplete="on"','required placeholder="Введите пароль"'],divErrorclassName:"reg-error",divErrorId:"error-current-password"},{label:"password-confirm",labelVisible:"Новый пароль",inputAttrs:['type="password"','name="newPassword"','id="new-password"','autocomplete="on"','placeholder="Введите повтор пароля"'],ivErrorclassName:"reg-error",divErrorId:"error-new-password"},{label:"new-password-confirm",labelVisible:"Повторите пароль",inputAttrs:['type="password"','name="newPassword-confirm"','id="new-password-confirm','autocomplete="on"','required placeholder="Введите повтор пароля"'],ivErrorclassName:"reg-error",divErrorId:"error-new-password-confirm"}],f=[{labelVisible:"Сменить пароль",buttonAttrs:['class="button-button"','type="button"','id="registration-button"']},{labelVisible:"Закрыть",buttonAttrs:['class="link-button"','type="button"','id="close-change-password-form-button"']}];function h(){let a=e("div",["change-password-form"],{id:"change-password"});return a.innerHTML=`\n      <form  class="change-password-form">\n        <div class="form-input">\n          <h2>Изменение пароля</h2>\n          ${n(v)}\n          ${t(f)}\n        </div>\n      </form>\n    `,a}const y=[{title:"Фото или видео",class:"add-files",id:"add-foto-video",iconSrc:"img/media.svg"},{title:"Файл",class:"add-files",id:"add-file",iconSrc:"img/file.svg"},{title:"Локация",class:"add-files",id:"add-location",iconSrc:"img/location.svg"}];function E(){let t=e("div",["menu-add-files"],{id:"menu-add-files"});return t.innerHTML=`<nav>\n            <ul>\n                ${y.map((e=>`\n                    <li id="${e.id}">\n                        <img class="chat-menu-icon" alt="Add" src="${e.iconSrc}"></img>    \n                        <button class="link-button">\n                            ${e.title}\n                        </button>\n                    </li>\n                    `)).join("")}\n            </ul>\n        </nav>`,t}const I=[{title:"Добавить пользователя",class:"chat-menu-item",id:"add-user",iconSrc:"img/add.svg"},{title:"Удалить пользователя",class:"chat-menu-item",id:"delete-user",iconSrc:"./img/delete.svg"}];function w(){let t=e("div",["chat-menu-list"],{id:"chat-menu-list"});return t.innerHTML=`<nav>\n            <ul>\n                ${I.map((e=>`<li  id="${e.id}">\n                        <img class="chat-menu-icon" alt="Add" src="${e.iconSrc}"></img>\n                        <button class="link-button">\n                            ${e.title}\n                        </button>\n                    </li>`)).join("")}\n            </ul>\n        </nav>`,t}function $(t="add"){const n={add:{label:"Добавить пользователя",shortLabel:"Добавить",idButtonAction:"manage-chat-user-button-add",inputLoginId:"manage-user-add-id"},del:{label:"Удалить пользователя",shortLabel:"Удалить",idButtonAction:"manage-chat-user-button-del",inputLoginId:"manage-user-del-id"}};let a=e("div",["manage-chat-user"],{id:"manage-chat-user"});return a.innerHTML=`\n        <form action="">\n          <div class="form-input">\n          <h2>${n[t].label}</h2>\n          <label>${n[t].label}</label>\n          <input type="text" name="login" id="${n[t].inputLoginId}" required placeholder="Введите логин">\n          <div class="reg-error" id="${n[t].inputLoginId}"></div>\n          <button class="button-button" type="button" id="${n[t].idButtonAction}">\n              ${n[t].label}\n          </button>\n          <button class="link-button" type="button" id="close-manage-chat-user">\n              Закрыть\n          </button>\n\n\n        </div>\n      </form>\n    `,a}const B=[{label:"avatar",inputAttrs:['type="image"','name="avatar"','id="add-avatar-input"'],divErrorclassName:"reg-error",divErrorId:"reg-error-avatar-input"}],A=[{labelVisible:"Добавить",buttonAttrs:['class="button-button";','type="button"','id="save-avatar-button"']},{labelVisible:"Закрыть",buttonAttrs:['class="link-button";','type="button"','id="close-add-avatar-button"']}],_=()=>{let a=e("div",["add-avatar"],{id:"add-avatar"});return console.log(B),a.innerHTML=`\n        <form class="change-password-form" id="add-avatar-form">\n            <div class="form-input" >\n                <h2>Выберите изображение</h2>\n                ${n(B)}\n                ${t(A)}\n            </div>\n        </form>\n    `,a},L=()=>{const e=document.getElementById("reg-form");e&&e.parentNode.removeChild(e);const t=document.getElementById("login-form");t&&t.parentNode.removeChild(t),localStorage.setItem("isAuth",!0),R()},V=()=>{localStorage.setItem("isAuth",!0),L()},k=()=>{const e=document.getElementById("root");for(;e.firstChild;)e.removeChild(e.firstChild);localStorage.setItem("isAuth",!1),R()},N=e=>{const t=document.getElementById(e);t&&t.remove()},x=e=>{document.getElementById(e).replaceChildren()};function M(e){document.getElementById(e).style.display="none"}function C(e){document.getElementById(e).style.display="flex"}const j=()=>{document.getElementById("root").appendChild(d()),document.getElementById("login-button").addEventListener("click",L),document.getElementById("registration-button").addEventListener("click",S),document.getElementById("form-login-main").addEventListener("submit",U)},T=()=>{document.getElementById("root").appendChild(i()),document.getElementById("registration-button").addEventListener("click",V),document.getElementById("login-button").addEventListener("click",S)},S=()=>{document.getElementById("reg-form")?(N("reg-form"),j()):(N("login-form"),T())};function H(){document.getElementById("myModal");q();document.getElementById("modal-content").appendChild(_()),document.getElementById("close-add-avatar-button").addEventListener("click",D),document.getElementById("save-avatar-button").addEventListener("click",D)}function P(){M("chat-window");document.getElementById("root").appendChild(b()),document.getElementById("profile-logout").addEventListener("click",k),document.getElementById("profile-sidebar").addEventListener("click",Q),document.getElementById("profile-change-password").addEventListener("click",Z),document.getElementById("profile-avatar").addEventListener("click",H)}function Z(){document.getElementById("myModal");q();document.getElementById("modal-content").appendChild(h()),document.getElementById("close-change-password-form-button").addEventListener("click",D)}function q(){document.getElementById("myModal");C("myModal"),x("modal-content")}function D(){document.getElementById("myModal");M("myModal"),x("modal-content")}function F(){document.getElementById("root").appendChild(E())}function z(){document.getElementById("myModal");q();document.getElementById("modal-content").appendChild($("add")),document.getElementById("close-manage-chat-user").addEventListener("click",D)}function G(){document.getElementById("myModal");q();document.getElementById("modal-content").appendChild($("del")),document.getElementById("close-manage-chat-user").addEventListener("click",D)}const J=()=>{N("chat-menu-list")};function K(){const e=document.getElementById("root");e.appendChild(w()),document.getElementById("add-user").addEventListener("click",z),document.getElementById("delete-user").addEventListener("click",G),e.addEventListener("click",J),e.removeEventListener("click",J)}function O(){const e=document.getElementById("root");e.appendChild(s()),document.getElementById("chat-sidebar").appendChild(m()),document.getElementById("button-profile").addEventListener("click",P),document.getElementById("add-button").addEventListener("click",F),document.getElementById("chat-menu").addEventListener("click",K),e.appendChild(g())}function Q(){N("profile-main"),C("chat-window")}const R=()=>{"true"===localStorage.getItem("isAuth")==!1?j():O()};function U(e){e.preventDefault(),console.log(e)}R();
//# sourceMappingURL=index.5acd5955.js.map
